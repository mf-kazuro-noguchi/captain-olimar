<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ğŸ½ï¸ ãƒ©ãƒ³ãƒãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆ</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        max-width: 900px;
        margin: 30px auto;
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }
      .container {
        background: white;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
      }
      h1 {
        color: #ff6b6b;
        text-align: center;
        font-size: 2.5em;
        margin-bottom: 10px;
      }
      .subtitle {
        text-align: center;
        color: #666;
        margin-bottom: 30px;
        font-size: 0.9em;
      }
      #status {
        text-align: center;
        padding: 15px;
        background: #e3f2fd;
        border-radius: 10px;
        margin: 20px 0;
        font-size: 0.9em;
      }

      .companion-toggle {
        text-align: center;
        margin: 15px 0 10px;
      }
      .companion-toggle label {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 10px 18px;
        border-radius: 999px;
        border: 2px solid #ff6b6b;
        background: rgba(255, 255, 255, 0.9);
        cursor: pointer;
        font-weight: 600;
        color: #ff6b6b;
        transition: all 0.3s ease;
      }
      .companion-toggle label:hover {
        box-shadow: 0 6px 18px rgba(255, 107, 107, 0.35);
        transform: translateY(-2px);
      }
      .companion-toggle input {
        appearance: none;
        width: 20px;
        height: 20px;
        border: 2px solid #ff6b6b;
        border-radius: 6px;
        position: relative;
        cursor: pointer;
      }
      .companion-toggle input:checked {
        background: #ff6b6b;
      }
      .companion-toggle input:checked::after {
        content: "âœ”";
        position: absolute;
        color: #fff;
        font-size: 14px;
        top: 0px;
        left: 3px;
      }
      .companion-toggle input + span {
        color: #ff6b6b;
        transition: color 0.3s ease;
      }
      .companion-toggle input:checked + span {
        color: #fff;
      }

      .companion-roulette {
        display: none;
        margin: 0 auto 25px;
        max-width: 620px;
        background: linear-gradient(135deg, #0b3d91 0%, #1b62b0 100%);
        border-radius: 18px;
        padding: 24px;
        color: #fff;
        box-shadow: 0 15px 35px rgba(11, 61, 145, 0.35);
        opacity: 0;
        transform: translateY(-8px);
        transition: opacity 0.4s ease, transform 0.4s ease;
      }
      .companion-roulette.is-visible {
        display: block;
        opacity: 1;
        transform: translateY(0);
      }
      .companion-roulette.is-complete .companion-name {
        color: #ffd700;
      }
      .companion-mat {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 20px;
        flex-wrap: wrap;
      }
      .companion-nameplate {
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .companion-country {
        background: #ff6b6b;
        padding: 6px 14px;
        border-radius: 8px;
        font-weight: 700;
        letter-spacing: 0.12em;
      }
      .companion-name {
        font-size: 1.6em;
        font-weight: 800;
        letter-spacing: 0.1em;
        text-transform: uppercase;
      }
      .companion-scoreboard {
        display: flex;
        gap: 12px;
      }
      .score {
        padding: 10px 18px;
        border-radius: 10px;
        border: 2px solid rgba(255, 255, 255, 0.7);
        font-weight: 700;
        letter-spacing: 0.12em;
        min-width: 120px;
        text-align: center;
        background: rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
      }
      .score.is-active {
        background: #ffd447;
        color: #1f2a44;
        border-color: #ffd447;
        box-shadow: 0 0 18px rgba(255, 212, 71, 0.65);
      }
      .companion-judo-light {
        height: 6px;
        border-radius: 999px;
        background: linear-gradient(
          90deg,
          rgba(255, 255, 255, 0.1),
          rgba(255, 255, 255, 0.5),
          rgba(255, 255, 255, 0.1)
        );
        margin-top: 14px;
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      .companion-judo-light.is-glowing {
        opacity: 1;
        animation: ipponGlow 0.8s ease-in-out infinite alternate;
      }
      .companion-rolling {
        margin-top: 18px;
        text-align: center;
        font-size: 1em;
        letter-spacing: 0.04em;
      }
      @keyframes ipponGlow {
        from {
          box-shadow: 0 0 12px rgba(255, 212, 71, 0.4);
        }
        to {
          box-shadow: 0 0 28px rgba(255, 212, 71, 0.9);
        }
      }

      /* ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚¨ãƒªã‚¢ */
      .filter-section {
        background: #f8f9fa;
        padding: 25px;
        border-radius: 15px;
        margin: 25px 0;
        border: 2px solid #e0e0e0;
      }
      .filter-group {
        margin-bottom: 20px;
      }
      .filter-group:last-child {
        margin-bottom: 0;
      }
      .filter-group label.group-title {
        display: block;
        font-weight: bold;
        color: #333;
        margin-bottom: 12px;
        font-size: 1.1em;
      }
      .filter-options {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }
      .filter-option {
        flex: 1;
        min-width: 120px;
      }
      .filter-option input[type="radio"] {
        display: none;
      }
      .filter-option label {
        display: block;
        padding: 12px 20px;
        background: white;
        border: 2px solid #ddd;
        border-radius: 8px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 0.95em;
      }
      .filter-option input[type="radio"]:checked + label {
        background: #ff6b6b;
        color: white;
        border-color: #ff6b6b;
        font-weight: bold;
      }
      .filter-option label:hover {
        border-color: #ff6b6b;
        transform: translateY(-2px);
      }

      /* ãƒœã‚¿ãƒ³ */
      .button-group {
        display: flex;
        gap: 15px;
        margin: 25px 0;
      }
      button {
        flex: 1;
        padding: 15px 30px;
        border: none;
        border-radius: 10px;
        font-size: 1.1em;
        cursor: pointer;
        transition: all 0.3s;
        font-weight: bold;
      }
      #searchBtn {
        background: #4caf50;
        color: white;
      }
      #searchBtn:hover:not(:disabled) {
        background: #45a049;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
      }
      #rouletteBtn {
        background: #ff6b6b;
        color: white;
      }
      #rouletteBtn:hover:not(:disabled) {
        background: #ff5252;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
      }
      button:disabled {
        background: #ccc;
        cursor: not-allowed;
        transform: none;
      }

      /* çµæœã‚«ã‚¦ãƒ³ãƒˆ */
      .result-count {
        text-align: center;
        font-size: 1.2em;
        color: #333;
        margin: 20px 0;
        font-weight: bold;
      }

      /* ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã‚«ãƒ¼ãƒ‰ */
      .restaurant-card {
        border: 2px solid #e0e0e0;
        padding: 20px;
        margin: 15px 0;
        border-radius: 12px;
        background: #fafafa;
        transition: all 0.3s;
      }
      .restaurant-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        border-color: #ff6b6b;
      }
      .restaurant-card h3 {
        margin: 0 0 15px 0;
        color: #ff6b6b;
        font-size: 1.4em;
      }
      .restaurant-card p {
        margin: 8px 0;
        color: #666;
        font-size: 0.95em;
      }
      .map-link {
        display: inline-block;
        margin-top: 15px;
        padding: 10px 20px;
        background: #4caf50;
        color: white;
        text-decoration: none;
        border-radius: 8px;
        font-size: 0.9em;
        transition: all 0.3s;
      }
      .map-link:hover {
        background: #45a049;
        transform: scale(1.05);
      }

      .restaurant-photo {
        width: 100%;
        max-height: 240px;
        object-fit: cover;
        border-radius: 14px;
        margin-bottom: 16px;
        box-shadow: 0 10px 22px rgba(0, 0, 0, 0.18);
      }
      .no-photo {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 200px;
        border-radius: 14px;
        margin-bottom: 16px;
        background: repeating-linear-gradient(
          45deg,
          rgba(255, 107, 107, 0.12),
          rgba(255, 107, 107, 0.12) 12px,
          rgba(255, 255, 255, 0.6) 12px,
          rgba(255, 255, 255, 0.6) 24px
        );
        color: #ff6b6b;
        font-weight: 600;
        letter-spacing: 0.05em;
      }
      .restaurant-info {
        display: flex;
        flex-direction: column;
        gap: 6px;
      }

      .companion-result-line {
        margin-top: 12px;
        font-weight: 700;
        color: #0b3d91;
        font-size: 1.05em;
      }

      /* ç‰¹åˆ¥è¡¨ç¤ºï¼ˆãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆçµæœï¼‰ */
      .selected-restaurant {
        border: 3px solid #ffd700;
        background: linear-gradient(135deg, #fff9e6 0%, #ffecb3 100%);
        animation: highlight 0.5s ease;
        box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
      }
      @keyframes highlight {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      .selected-restaurant h3 {
        color: #ff6b6b;
        font-size: 1.8em;
      }
      .selected-restaurant::before {
        content: "ğŸ‰ ä»Šæ—¥ã®ã‚ªã‚¹ã‚¹ãƒ¡ï¼ ğŸ‰";
        display: block;
        text-align: center;
        font-size: 1.3em;
        font-weight: bold;
        color: #ff6b6b;
        margin-bottom: 15px;
      }

      .loading {
        text-align: center;
        color: #666;
        font-size: 1.1em;
        padding: 40px;
      }
      .error {
        background: #ffebee;
        color: #c62828;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        text-align: center;
      }

      /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
      @media (max-width: 600px) {
        .filter-options {
          flex-direction: column;
        }
        .filter-option {
          min-width: 100%;
        }
        .button-group {
          flex-direction: column;
        }
        .companion-mat {
          flex-direction: column;
          align-items: flex-start;
          gap: 16px;
        }
        .companion-scoreboard {
          width: 100%;
          justify-content: space-between;
        }
        .score {
          flex: 1;
          min-width: auto;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ± ãƒ©ãƒ³ãƒãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆ</h1>
      <p class="subtitle">æ¡ä»¶ã‚’é¸ã‚“ã§ã€ä»Šæ—¥ã®ãƒ©ãƒ³ãƒã‚’æ±ºã‚ã‚ˆã†ï¼</p>

      <div id="status">ä½ç½®æƒ…å ±ã‚’å–å¾—ä¸­...</div>

      <div class="companion-toggle">
        <label for="companionToggle">
          <input type="checkbox" id="companionToggle" />
          <span>ğŸ¤ ä¸€ç·’ã«è¡Œãäººã‚‚æ±ºã‚ã‚‹</span>
        </label>
      </div>

      <div id="companionRoulette" class="companion-roulette">
        <div class="companion-mat">
          <div class="companion-nameplate">
            <span class="companion-country" id="companionCountryDisplay"
              >---</span
            >
            <span class="companion-name" id="companionNameDisplay"
              >é¸æ‰‹æœªæ±ºå®š</span
            >
          </div>
          <div class="companion-scoreboard">
            <span class="score waza" id="companionScoreWaza">WAZA-ARI</span>
            <span class="score ippon" id="companionScoreIppon">IPPON</span>
          </div>
        </div>
        <div class="companion-judo-light" id="companionIpponLight"></div>
        <p class="companion-rolling" id="companionRollingText">
          ç•³ã®ä¸Šã§é¸æ‰‹ãŒã‚¦ã‚©ãƒ¼ãƒ ã‚¢ãƒƒãƒ—ä¸­...
        </p>
      </div>

      <!-- ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
      <div class="filter-section">
        <!-- äºˆç®— -->
        <div class="filter-group">
          <label class="group-title">ğŸ’° äºˆç®—</label>
          <div class="filter-options">
            <div class="filter-option">
              <input
                type="radio"
                name="budget"
                id="budget-all"
                value="all"
                checked
              />
              <label for="budget-all">æŒ‡å®šãªã—</label>
            </div>
            <div class="filter-option">
              <input type="radio" name="budget" id="budget-500" value="500" />
              <label for="budget-500">ã€œ500å††</label>
            </div>
            <div class="filter-option">
              <input type="radio" name="budget" id="budget-1000" value="1000" />
              <label for="budget-1000">ã€œ1000å††</label>
            </div>
            <div class="filter-option">
              <input type="radio" name="budget" id="budget-over" value="over" />
              <label for="budget-over">1000å††ã€œ</label>
            </div>
          </div>
        </div>

        <!-- æ°—åˆ† -->
        <div class="filter-group">
          <label class="group-title">ğŸ˜‹ æ°—åˆ†</label>
          <div class="filter-options">
            <div class="filter-option">
              <input
                type="radio"
                name="mood"
                id="mood-all"
                value="all"
                checked
              />
              <label for="mood-all">æŒ‡å®šãªã—</label>
            </div>
            <div class="filter-option">
              <input type="radio" name="mood" id="mood-light" value="light" />
              <label for="mood-light">ã•ã£ã±ã‚Š</label>
            </div>
            <div class="filter-option">
              <input type="radio" name="mood" id="mood-heavy" value="heavy" />
              <label for="mood-heavy">ãŒã£ã¤ã‚Š</label>
            </div>
            <div class="filter-option">
              <input type="radio" name="mood" id="mood-sweet" value="sweet" />
              <label for="mood-sweet">ç”˜ã„ã‚‚ã®</label>
            </div>
            <div class="filter-option">
              <input type="radio" name="mood" id="mood-fancy" value="fancy" />
              <label for="mood-fancy">ãŠã—ã‚ƒã‚Œ</label>
            </div>
          </div>
        </div>

        <!-- ç§»å‹•æ™‚é–“ -->
        <div class="filter-group">
          <label class="group-title">ğŸš¶ ç§»å‹•æ™‚é–“</label>
          <div class="filter-options">
            <div class="filter-option">
              <input type="radio" name="time" id="time-5" value="400" />
              <label for="time-5">5åˆ†ä»¥å†…</label>
            </div>
            <div class="filter-option">
              <input
                type="radio"
                name="time"
                id="time-10"
                value="800"
                checked
              />
              <label for="time-10">10åˆ†ä»¥å†…</label>
            </div>
            <div class="filter-option">
              <input type="radio" name="time" id="time-15" value="1200" />
              <label for="time-15">15åˆ†ä»¥å†…</label>
            </div>
            <div class="filter-option">
              <input type="radio" name="time" id="time-20" value="1600" />
              <label for="time-20">20åˆ†ä»¥å†…</label>
            </div>
          </div>
        </div>
      </div>

      <!-- ãƒœã‚¿ãƒ³ -->
      <div class="button-group">
        <button id="searchBtn" style="display: none">ğŸ” æ¡ä»¶ã§æ¤œç´¢</button>
        <button id="rouletteBtn" style="display: none">
          ğŸ² ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã§æ±ºã‚ã‚‹ï¼
        </button>
      </div>

      <div class="result-count" id="resultCount"></div>
      <div id="result"></div>
    </div>

    <script src="config.js"></script>
    <script src="script.js"></script>
  </body>
</html>
